(window.webpackJsonp=window.webpackJsonp||[]).push([[106],{239:function(t,a,s){"use strict";s.r(a);var e=s(0),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"反编译遇到的相关指令问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#反编译遇到的相关指令问题"}},[t._v("#")]),t._v(" 反编译遇到的相关指令问题")]),t._v(" "),s("Badge",{attrs:{text:"JAVA",vertical:"middle"}}),t._v(" "),s("Badge",{attrs:{text:"2019-04-15",type:"warning",vertical:"middle"}}),t._v(" "),s("h3",{attrs:{id:"概述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[t._v("#")]),t._v(" 概述")]),t._v(" "),s("p",[t._v("JVM用线程来执行方法，每个线程都包含一个线程栈，线程栈存放的是栈帧，每个栈帧都有自己的操作数栈和本地变量表。当一个方法被执行时候，首先会在栈顶push一个栈帧，栈帧的创建就需要指定操作数栈和本地变量表的大小。接下来方法的参数会被传入一个方法的本地变量表，本地变量表的访问采用下表索引的方式来访问，第0个位置会传入this(无参时候会调用自身实例，有参数则第1个位置会传入"),s("code",[t._v("参数类型：如int")]),t._v("，第2个位置会传入"),s("code",[t._v("参数类型：如int")]),t._v("，第N个位置...)")]),t._v(" "),s("p",[t._v("在栈帧完全准备好后，就可以开始执行执行字节码指令了，上述iload_1,i_load_2分别将本地变量表的1，2位置的数据push到操作数栈中，iadd随后会pop两个值用来做加法操作，并将结果push到操作数栈，最后ireturn将栈顶数据返回。")]),t._v(" "),s("p",[t._v("针对一个简单的i++自增方法，做如下尝试，用javap反编译后，看看jvm是具体按照什么指令来操作对象和工作流程的。")]),t._v(" "),s("h3",{attrs:{id:"实例应用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#实例应用"}},[t._v("#")]),t._v(" 实例应用")]),t._v(" "),s("ul",[s("li",[t._v("源码")])]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * @create.date: 2019/3/31\n * @comment: <p></p>\n * @author: Jackie.Yang\n * @see:com.xianyu.facade.demo\n */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TestJava")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("volatile")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("ul",[s("li",[s("p",[t._v("反编译\njavap 常用的参数：\n-p ：会打印私有的字段和方法，\n-v ：它会尽可能地打印出所有信息\n-c ：只查询相关方法对应的字节码")])]),t._v(" "),s("li",[s("p",[t._v("javap -v")])])]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("D")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\\"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Workspaces")]),t._v("\\fascade\\target\\classes\\com\\xianyu\\facade\\demo"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("javap "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("v "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TestJava")]),t._v("\n警告"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 二进制文件"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TestJava")]),t._v("包含com"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xianyu"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("facade"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("demo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TestJava")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Classfile")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("D")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Workspaces")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("fascade"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("target"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("classes"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("com"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("xianyu"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("facade"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("demo"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TestJava")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Last")]),t._v(" modified "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2019")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("31")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" size "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("398")]),t._v(" bytes\n  MD5 checksum "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("c1a4e863b058de2dd2a5c9ec019420a\n  "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Compiled")]),t._v(" from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"TestJava.java"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" com"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xianyu"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("facade"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("demo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TestJava")]),t._v("\n  minor version"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n  major version"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("52")]),t._v("\n  flags"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ACC_PUBLIC"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ACC_SUPER\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Constant")]),t._v(" pool"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n   #"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Methodref")]),t._v("          #"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.")]),t._v("#"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("17")]),t._v("         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// java/lang/Object."<init>":()V')]),t._v("\n   #"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Fieldref")]),t._v("           #"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.")]),t._v("#"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v("         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// com/xianyu/facade/demo/TestJava.n:I")]),t._v("\n   #"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Class")]),t._v("              #"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),t._v("            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// com/xianyu/facade/demo/TestJava")]),t._v("\n   #"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Class")]),t._v("              #"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// java/lang/Object")]),t._v("\n   #"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Utf8")]),t._v("               n\n   #"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Utf8")]),t._v("               "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("I")]),t._v("\n   #"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Utf8")]),t._v("               "),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("init"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n   #"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Utf8")]),t._v("               "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("V")]),t._v("\n   #"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Utf8")]),t._v("               "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Code")]),t._v("\n  #"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Utf8")]),t._v("               "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("LineNumberTable")]),t._v("\n  #"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Utf8")]),t._v("               "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("LocalVariableTable")]),t._v("\n  #"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Utf8")]),t._v("               "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),t._v("\n  #"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Utf8")]),t._v("               "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Lcom")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("xianyu"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("facade"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("demo"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TestJava")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  #"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Utf8")]),t._v("               add\n  #"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Utf8")]),t._v("               "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SourceFile")]),t._v("\n  #"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Utf8")]),t._v("               "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TestJava")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java\n  #"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("17")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NameAndType")]),t._v("        #"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("#"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v("          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// "<init>":()V')]),t._v("\n  #"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NameAndType")]),t._v("        #"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("#"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v("          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// n:I")]),t._v("\n  #"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Utf8")]),t._v("               com"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("xianyu"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("facade"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("demo"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TestJava")]),t._v("\n  #"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Utf8")]),t._v("               java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("lang"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("volatile")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    descriptor"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("I")]),t._v("\n    flags"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ACC_PUBLIC"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ACC_VOLATILE\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" com"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xianyu"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("facade"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("demo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TestJava")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    descriptor"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("V")]),t._v("\n    flags"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ACC_PUBLIC\n    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Code")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n      stack"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" locals"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" args_size"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" aload_0\n         "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" invokespecial #"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("                  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// Method java/lang/Object."<init>":()V')]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("LineNumberTable")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n        line "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("LocalVariableTable")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Start")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Length")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Slot")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Name")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Signature")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Lcom")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("xianyu"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("facade"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("demo"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TestJava")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    descriptor"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("V")]),t._v("\n    flags"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ACC_PUBLIC\n    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Code")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n      stack"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" locals"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" args_size"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" aload_0\n         "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" dup\n         "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" getfield      #"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("                  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Field n:I")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" iconst_1\n         "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" iadd\n         "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" putfield      #"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("                  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Field n:I")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("LineNumberTable")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n        line "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n        line "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("LocalVariableTable")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Start")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Length")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Slot")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Name")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Signature")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Lcom")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("xianyu"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("facade"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("demo"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TestJava")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SourceFile")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"TestJava.java"')]),t._v("\n")])])]),s("ul",[s("li",[t._v("javap -v")])]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("D")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\\"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Workspaces")]),t._v("\\fascade\\target\\classes\\com\\xianyu\\facade\\demo"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("javap "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("c "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TestJava")]),t._v("\n警告"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 二进制文件"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TestJava")]),t._v("包含com"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xianyu"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("facade"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("demo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TestJava")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Compiled")]),t._v(" from "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"TestJava.java"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" com"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xianyu"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("facade"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("demo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TestJava")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("volatile")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" com"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xianyu"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("facade"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("demo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TestJava")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Code")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" aload_0\n       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" invokespecial #"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("                  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// Method java/lang/Object."<init>":()V')]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Code")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" aload_0\n       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" dup\n       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" getfield      #"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("                  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Field n:I")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" iconst_1\n       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" iadd\n       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" putfield      #"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("                  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Field n:I")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"解析参考"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解析参考"}},[t._v("#")]),t._v(" 解析参考")]),t._v(" "),s("ul",[s("li",[t._v("描述文件(Descriptor)\n是一个字符串，可以用来描述一个方法的参数和返回类型。格式如下：")])]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//（参数描述符）返回类型")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Ljava")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("lang"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Ljava")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("lang"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("I")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("II"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("I")]),t._v("\n")])])]),s("p",[t._v("括号中表示参数，括号外表示返回类型。"),s("code",[t._v("L")]),t._v("表示引用类型，"),s("code",[t._v("I")]),t._v("表示int类型，"),s("code",[t._v("[")]),t._v("表示数组。\n以一个L开头的描述符，就是类描述符，它后紧跟着类的字符串，然后分号“；”结束。\n比如"),s("code",[t._v("Ljava/lang/String;")]),t._v("就是表示类型String；\n"),s("code",[t._v("Ljava/lang/String;")]),t._v("它是一种对函数返回值和参数的编码。这种编码叫做JNI字段描述符（JavaNative Interface FieldDescriptors)。\n当一个函数不需要返回参数类型时，就使用”V”来表示。")]),t._v(" "),s("ul",[s("li",[t._v("JNI符号对照表")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("Java 类型")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("JNI符号")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("Boolean")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("Z")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("Byte")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("B")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("Char")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("C")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("Short")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("S")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("Int")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("I")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("Long")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("J")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("Float")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("F")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("Double")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("D")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("数组")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("[")])])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("Void")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("V")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("objects对象")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("以"),s("code",[t._v("L")]),t._v("开头，以"),s("code",[t._v(";")]),t._v("结尾，中间是用"),s("code",[t._v("/")]),t._v(" 隔开的包及类名。")])])])]),t._v(" "),s("ul",[s("li",[t._v("访问标志(access_flags)")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("标志名称")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("ACC_PUBLIC")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("是否为public类型")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("ACC_FINAL")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("是否被声明为final，只有类可设置")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("ACC_SUPER")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("是否允许使用invokespecial字节码指令")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("ACC_INTERFACE")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("标志这个是一个接口")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("ACC_ABSTRACT")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("是否为abstract类型，对于接口或抽象类来说，此标志值为true，其他值为false")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("ACC_SYNTHETIC")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("标志这个类并非由用户产生的")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("ACC_ANNOTATION")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("标志这个一个注解")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("ACC_ENUM")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("标志这是一个枚举")])])])]),t._v(" "),s("ul",[s("li",[t._v("属性表集合")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("属性名称")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("使用位置")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("Code")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("方法表")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("java代码编译成的字节码指令")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("ConstantValue")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("字段表")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("final关键字定义的常量值")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("Deprecated")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("类、方法表、字段表")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("被表明为deprecated的方法和字段")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("Exceptions")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("方法表")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("方法抛出的异常")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("InnerClasses")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("类文件")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("内部类列表")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("LineNumberTable")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("Code 属性")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("Java源码的行号与字节码指定的对应关系")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("LocalVariableTable")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("Code属性")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("方法的局部变量描述")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("SourceFile")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("类文件")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("源文件名称")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("Synthetic")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("类、方法表、字段表")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("标识方法或字段为编译器自动生成的")])])])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("Code")]),t._v("节点就是"),s("code",[t._v("CodeAttribute")]),t._v("，里面包含了"),s("code",[t._v("stack")]),t._v("，"),s("code",[t._v("locals")]),t._v("，"),s("code",[t._v("args_size")]),t._v("，以及几条指令。"),s("code",[t._v("stack")]),t._v("表示执行这个方法所需要的栈大小，这个值在编译时已经确定了，"),s("code",[t._v("locals")]),t._v("表示本地变量表的大小，"),s("code",[t._v("args_size")]),t._v("表示方法参数的数量，由于这个方法是个实例方法，所以第一个传进来的参数是实例自身，也就是"),s("code",[t._v("this")]),t._v("，然后才是方法的两个参数，所以参数为1。")])]),t._v(" "),s("h3",{attrs:{id:"附加操作指令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#附加操作指令"}},[t._v("#")]),t._v(" 附加操作指令")]),t._v(" "),s("ul",[s("li",[t._v("对象操作指令")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("操作码")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("new")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("创建新的对象实例")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("checkcast")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("类型强转")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("instanceof")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("判断类型")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("getfield")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("获取对象字段的值")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("putfield")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("给对象字段赋值")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("getstatic")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("获取静态字段的值")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("putstatic")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("给静态字段赋值")])])])]),t._v(" "),s("ul",[s("li",[t._v("整数运算指令")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("操作码")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("iadd")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("将栈顶两int类型数相加，结果入栈")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("isub")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("将栈顶两int类型数相减，结果入栈")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("imul")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("将栈顶两int类型数相乘，结果入栈")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("idiv")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("将栈顶两int类型数相除，结果入栈")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("irem")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("将栈顶两int类型数取模，结果入栈")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("ineg")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("将栈顶int类型值取负，结果入栈")])])])]),t._v(" "),s("ul",[s("li",[t._v("常量入栈指令")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("操作码")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("iconst_0")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("0(int)值入栈")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("iconst_1")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("1(int)值入栈")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("ldc(load constant)")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("常量池中的常量值（int, float, string reference, object reference）入栈。")])])])]),t._v(" "),s("ul",[s("li",[t._v("通用（无类型）栈操作指令")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("操作码")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("nop")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("空操作")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("pop")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("从栈顶弹出一个字长的数据")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("pop2")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("从栈顶弹出两个字长的数据")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("dup")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("复制栈顶一个字长的数据，将复制后的数据压栈")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("dup_x1")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("复制栈顶一个字长的数据，弹出栈顶两个字长数据，先将复制后的数据压栈，再将弹出的两个字长数据压栈")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("dup2")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("复制栈顶两个字长的数据，将复制后的两个字长的数据压栈")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("dup2_x1")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("复制栈顶两个字长的数据，弹出栈顶三个字长的数据，将复制后的两个字长的数据压栈，再将弹出的三个字长的数据压栈")])])])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("dup")]),t._v("指令为复制操作数栈顶值，并将其压入栈顶，也就是说此时操作数栈上有连续相同的两个对象地址，也就是说需要从栈顶弹出两个实例对象的引用。其实对于每一个"),s("code",[t._v("new")]),t._v("指令来说一般编译器都会在其下面生成\n一个"),s("code",[t._v("dup")]),t._v("指令，这是因为实例的初始化方法肯定需要用到一次，然后第二个留给程序员使用，例如给变量赋值，抛出异常等，如果我们不用，那编译器也会生成"),s("code",[t._v("dup")]),t._v("指令，在初始化方法调用完成后再从栈顶"),s("code",[t._v("pop")]),t._v("出来。")])]),t._v(" "),s("ul",[s("li",[t._v("将栈顶值保存到局部变量中指令")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("操作码")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("astore_0")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("将栈顶引用类型值保存到局部变量0中")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("astore_1")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("将栈顶引用类型值保存到局部变量1中")])])])]),t._v(" "),s("ul",[s("li",[t._v("局部变量值转载到栈中指令")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("操作码")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("aload_0")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("从局部变量0中装载引用类型值入栈")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("aload_1")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("从局部变量1中装载引用类型值入栈")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("iload_0")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("从局部变量0中装载int类型值入栈")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("iload_1")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("从局部变量1中装载int类型值入栈")])])])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("aload_0")]),t._v("从局部变量表的相应位置装载一个对象引用到操作数栈的栈顶。\n"),s("code",[t._v("aload_0")]),t._v("把this装载到了操作数栈中。\n与iconst不同的是，iload操作的值是已经定义好存在的值，iconst是定义时的压栈操作。")])]),t._v(" "),s("ul",[s("li",[t._v("方法调用指令")])]),t._v(" "),s("p",[t._v("处理方法调用，先将参数“存入”本地数组；要进行方法调用，必须将参数推到栈上，并且紧跟一个指向实例方法的 this 指针。")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("操作码")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("invokevirtual")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("调用使用 virtual 语义的实例方法，比如调用的方法在运行时根据重载分派到不同的实例方法。")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("invokespecial")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("调用一个具体的实例方法（非 virtual 语义）。该指令常用来调用构造器")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("invokestatic")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("调用静态方法")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("invokeinterface")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("调用接口方法")])])])]),t._v(" "),s("hr")],1)}),[],!1,null,null,null);a.default=n.exports}}]);