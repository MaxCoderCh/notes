<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>面试题答疑 | 叶良辰の学习笔记</title>
    <meta name="description" content="万物之始,大道至简,衍化至繁">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.slim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.js"></script>
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.css">
    
    <link rel="preload" href="/assets/css/0.styles.94a75534.css" as="style"><link rel="preload" href="/assets/js/app.8595a84a.js" as="script"><link rel="preload" href="/assets/js/2.43ea25e1.js" as="script"><link rel="preload" href="/assets/js/124.83bad0ab.js" as="script"><link rel="preload" href="/assets/js/10.06e5eb14.js" as="script"><link rel="prefetch" href="/assets/js/100.31901176.js"><link rel="prefetch" href="/assets/js/101.ded6a7c2.js"><link rel="prefetch" href="/assets/js/102.8c41fe6e.js"><link rel="prefetch" href="/assets/js/103.fd055c57.js"><link rel="prefetch" href="/assets/js/104.c2912d2f.js"><link rel="prefetch" href="/assets/js/105.cb7a5631.js"><link rel="prefetch" href="/assets/js/106.5ab6db1d.js"><link rel="prefetch" href="/assets/js/107.b2479aa0.js"><link rel="prefetch" href="/assets/js/108.f6f20e89.js"><link rel="prefetch" href="/assets/js/109.e31b7441.js"><link rel="prefetch" href="/assets/js/11.f086bb6e.js"><link rel="prefetch" href="/assets/js/110.b3c1c320.js"><link rel="prefetch" href="/assets/js/111.6bc1ba48.js"><link rel="prefetch" href="/assets/js/112.aaf73c2c.js"><link rel="prefetch" href="/assets/js/113.bbc02c2b.js"><link rel="prefetch" href="/assets/js/114.fd4aac87.js"><link rel="prefetch" href="/assets/js/115.a3cd54c2.js"><link rel="prefetch" href="/assets/js/116.21a147a9.js"><link rel="prefetch" href="/assets/js/117.959f6d38.js"><link rel="prefetch" href="/assets/js/118.bccc0c41.js"><link rel="prefetch" href="/assets/js/119.f774debc.js"><link rel="prefetch" href="/assets/js/12.578f8496.js"><link rel="prefetch" href="/assets/js/120.84f1ed9b.js"><link rel="prefetch" href="/assets/js/121.90ef0752.js"><link rel="prefetch" href="/assets/js/122.3a4d8cd7.js"><link rel="prefetch" href="/assets/js/123.4d9a5cbf.js"><link rel="prefetch" href="/assets/js/125.bbe455b0.js"><link rel="prefetch" href="/assets/js/126.1977c201.js"><link rel="prefetch" href="/assets/js/127.cccee27c.js"><link rel="prefetch" href="/assets/js/128.ad9031a7.js"><link rel="prefetch" href="/assets/js/129.5f46be27.js"><link rel="prefetch" href="/assets/js/13.f4e25669.js"><link rel="prefetch" href="/assets/js/130.b8d3df87.js"><link rel="prefetch" href="/assets/js/131.367e4e63.js"><link rel="prefetch" href="/assets/js/132.91dec612.js"><link rel="prefetch" href="/assets/js/133.f550ada4.js"><link rel="prefetch" href="/assets/js/134.b5f777e1.js"><link rel="prefetch" href="/assets/js/135.77c69367.js"><link rel="prefetch" href="/assets/js/136.e498ba84.js"><link rel="prefetch" href="/assets/js/137.fc3751d8.js"><link rel="prefetch" href="/assets/js/138.8bba551f.js"><link rel="prefetch" href="/assets/js/139.3c70edb9.js"><link rel="prefetch" href="/assets/js/14.be534530.js"><link rel="prefetch" href="/assets/js/140.5505027f.js"><link rel="prefetch" href="/assets/js/141.0afcfd78.js"><link rel="prefetch" href="/assets/js/142.6ab0accb.js"><link rel="prefetch" href="/assets/js/143.d4c9a677.js"><link rel="prefetch" href="/assets/js/144.ef861a7b.js"><link rel="prefetch" href="/assets/js/145.098367bf.js"><link rel="prefetch" href="/assets/js/146.76222e89.js"><link rel="prefetch" href="/assets/js/147.674e9f71.js"><link rel="prefetch" href="/assets/js/148.555c3ed1.js"><link rel="prefetch" href="/assets/js/149.603f6336.js"><link rel="prefetch" href="/assets/js/15.2e485db6.js"><link rel="prefetch" href="/assets/js/150.76507a6a.js"><link rel="prefetch" href="/assets/js/151.59914096.js"><link rel="prefetch" href="/assets/js/152.ccc3e17c.js"><link rel="prefetch" href="/assets/js/153.e69220a8.js"><link rel="prefetch" href="/assets/js/154.fa22c457.js"><link rel="prefetch" href="/assets/js/155.d499ebb6.js"><link rel="prefetch" href="/assets/js/156.bfe40f62.js"><link rel="prefetch" href="/assets/js/157.bb6fc26c.js"><link rel="prefetch" href="/assets/js/158.c8914f45.js"><link rel="prefetch" href="/assets/js/159.bf52f2be.js"><link rel="prefetch" href="/assets/js/16.89f347f8.js"><link rel="prefetch" href="/assets/js/160.6963ee21.js"><link rel="prefetch" href="/assets/js/161.7791c848.js"><link rel="prefetch" href="/assets/js/162.11fe42ce.js"><link rel="prefetch" href="/assets/js/163.0c66bf87.js"><link rel="prefetch" href="/assets/js/164.a30af3f1.js"><link rel="prefetch" href="/assets/js/165.a2dd7427.js"><link rel="prefetch" href="/assets/js/166.46a29a8a.js"><link rel="prefetch" href="/assets/js/17.65a12e6d.js"><link rel="prefetch" href="/assets/js/18.861a0d7e.js"><link rel="prefetch" href="/assets/js/19.3052a24b.js"><link rel="prefetch" href="/assets/js/20.3cd0460e.js"><link rel="prefetch" href="/assets/js/21.986dcc58.js"><link rel="prefetch" href="/assets/js/22.fd63bbf4.js"><link rel="prefetch" href="/assets/js/23.56bfca5f.js"><link rel="prefetch" href="/assets/js/24.4973ba94.js"><link rel="prefetch" href="/assets/js/25.c6f0fdbf.js"><link rel="prefetch" href="/assets/js/26.0dcc4c64.js"><link rel="prefetch" href="/assets/js/27.cfca1ea4.js"><link rel="prefetch" href="/assets/js/28.cf552542.js"><link rel="prefetch" href="/assets/js/29.8a5d5ce1.js"><link rel="prefetch" href="/assets/js/3.218b5a9f.js"><link rel="prefetch" href="/assets/js/30.85595d28.js"><link rel="prefetch" href="/assets/js/31.c0be8130.js"><link rel="prefetch" href="/assets/js/32.f409392c.js"><link rel="prefetch" href="/assets/js/33.81c88a0f.js"><link rel="prefetch" href="/assets/js/34.44ecbb62.js"><link rel="prefetch" href="/assets/js/35.06b5bce5.js"><link rel="prefetch" href="/assets/js/36.4346d5b2.js"><link rel="prefetch" href="/assets/js/37.2ba34693.js"><link rel="prefetch" href="/assets/js/38.1e082286.js"><link rel="prefetch" href="/assets/js/39.05459d0a.js"><link rel="prefetch" href="/assets/js/4.2004d87a.js"><link rel="prefetch" href="/assets/js/40.fcfa58b7.js"><link rel="prefetch" href="/assets/js/41.a1291a3d.js"><link rel="prefetch" href="/assets/js/42.287bafa4.js"><link rel="prefetch" href="/assets/js/43.88f41841.js"><link rel="prefetch" href="/assets/js/44.d1169d63.js"><link rel="prefetch" href="/assets/js/45.a7202327.js"><link rel="prefetch" href="/assets/js/46.9e4df0d0.js"><link rel="prefetch" href="/assets/js/47.a520ca5c.js"><link rel="prefetch" href="/assets/js/48.990f1f9e.js"><link rel="prefetch" href="/assets/js/49.7af63144.js"><link rel="prefetch" href="/assets/js/5.08335bf0.js"><link rel="prefetch" href="/assets/js/50.f884fe7f.js"><link rel="prefetch" href="/assets/js/51.3cf6385a.js"><link rel="prefetch" href="/assets/js/52.2267e0fa.js"><link rel="prefetch" href="/assets/js/53.8928f89b.js"><link rel="prefetch" href="/assets/js/54.eec6f98b.js"><link rel="prefetch" href="/assets/js/55.8b8d18bf.js"><link rel="prefetch" href="/assets/js/56.a53e3fb0.js"><link rel="prefetch" href="/assets/js/57.9b8eb89e.js"><link rel="prefetch" href="/assets/js/58.71412cdb.js"><link rel="prefetch" href="/assets/js/59.47a6026a.js"><link rel="prefetch" href="/assets/js/6.dc32c23c.js"><link rel="prefetch" href="/assets/js/60.b445584e.js"><link rel="prefetch" href="/assets/js/61.92801308.js"><link rel="prefetch" href="/assets/js/62.0052829c.js"><link rel="prefetch" href="/assets/js/63.2521b7a9.js"><link rel="prefetch" href="/assets/js/64.6b9340b0.js"><link rel="prefetch" href="/assets/js/65.15dad725.js"><link rel="prefetch" href="/assets/js/66.ffb8e48f.js"><link rel="prefetch" href="/assets/js/67.723c5735.js"><link rel="prefetch" href="/assets/js/68.9764e00f.js"><link rel="prefetch" href="/assets/js/69.8ca37e49.js"><link rel="prefetch" href="/assets/js/7.6daaeea3.js"><link rel="prefetch" href="/assets/js/70.e42cb6da.js"><link rel="prefetch" href="/assets/js/71.409dee48.js"><link rel="prefetch" href="/assets/js/72.1ab12912.js"><link rel="prefetch" href="/assets/js/73.676fc788.js"><link rel="prefetch" href="/assets/js/74.92685b53.js"><link rel="prefetch" href="/assets/js/75.d522dd9a.js"><link rel="prefetch" href="/assets/js/76.c7b2b720.js"><link rel="prefetch" href="/assets/js/77.80df0aad.js"><link rel="prefetch" href="/assets/js/78.5fd278de.js"><link rel="prefetch" href="/assets/js/79.12c04eac.js"><link rel="prefetch" href="/assets/js/8.78bd4808.js"><link rel="prefetch" href="/assets/js/80.80a39d61.js"><link rel="prefetch" href="/assets/js/81.712b2fa8.js"><link rel="prefetch" href="/assets/js/82.e5cd6f26.js"><link rel="prefetch" href="/assets/js/83.42470a99.js"><link rel="prefetch" href="/assets/js/84.a6f17fa7.js"><link rel="prefetch" href="/assets/js/85.e35c6c1d.js"><link rel="prefetch" href="/assets/js/86.5ffa764c.js"><link rel="prefetch" href="/assets/js/87.adf840fb.js"><link rel="prefetch" href="/assets/js/88.2da0bac7.js"><link rel="prefetch" href="/assets/js/89.e816d413.js"><link rel="prefetch" href="/assets/js/9.f15b212e.js"><link rel="prefetch" href="/assets/js/90.b67499e3.js"><link rel="prefetch" href="/assets/js/91.70c4935e.js"><link rel="prefetch" href="/assets/js/92.49396136.js"><link rel="prefetch" href="/assets/js/93.5955e6ff.js"><link rel="prefetch" href="/assets/js/94.f2b5d6fa.js"><link rel="prefetch" href="/assets/js/95.639406b9.js"><link rel="prefetch" href="/assets/js/96.e3b8d160.js"><link rel="prefetch" href="/assets/js/97.68521a26.js"><link rel="prefetch" href="/assets/js/98.8a5369cc.js"><link rel="prefetch" href="/assets/js/99.9884a676.js">
    <link rel="stylesheet" href="/assets/css/0.styles.94a75534.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">叶良辰の学习笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/zh/guide/" class="nav-link">学习笔记</a></div><div class="nav-item"><a href="/zh/spring/" class="nav-link">源码笔记</a></div><div class="nav-item"><a href="/zh/ludi/" class="nav-link">微服务笔记</a></div><div class="nav-item"><a href="/zh/interview/" class="nav-link router-link-active">Java面试题</a></div><div class="nav-item"><a href="/zh/write/" class="nav-link">手写框架</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">学习文档</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>分布式应用</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://nacos.io/zh-cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Nacos
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://github.com/alibaba/Sentinel" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Sentinel
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://gitee.com/mirrors/Spring-Cloud-Alibaba" target="_blank" rel="noopener noreferrer" class="nav-link external">
  SpringCloud Alibaba
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="http://www.elasticsearch.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ElasticSearch
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="http://skywalking.apache.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  SkyWalking
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.keycloak.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Keycloak
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.sonarqube.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  SonarQube
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>分布式事务</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/seata/seata" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Seata
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="http://www.txlcn.org/zh-cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  TX-LCN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.xuxueli.com/xxl-job/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  XXL-JOB
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>分布式数据库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/zh/interview/%E9%9D%A2%E8%AF%95%E6%80%BB%E7%BB%93/ https://pingcap.com/docs-cn/" class="nav-link">TiDB</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">在线工具</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>在线编辑</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="http://cron.qqe2.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CRON 表达式
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.diffchecker.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Diffchecker 比较工具
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://smallpdf.com/cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  PDF&lt;互转&gt;Word
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.bejson.com/jsoneditoronline" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JSON在线编辑
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.processon.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Processon在线画图
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="http://www.i2symbol.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  在线符号大全
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://tableconvert.com/?output=text" target="_blank" rel="noopener noreferrer" class="nav-link external">
  markdown表格生成
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.toyaml.com/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  YAML&lt;互转&gt;Properties
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>在线答题</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://leetcode-cn.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  力扣
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.nowcoder.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  牛客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.lintcode.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  LintCode
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>在线翻译</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="http://fanyi.youdao.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  有道翻译
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://translate.google.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  谷歌翻译
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>在线转POJO</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="http://java.bejson.com/generator/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  SQL自动生成POJO
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="http://www.bejson.com/json2javapojo/new/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JSON自动生成POJO
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>在线验签</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://qy.weixin.qq.com/cgi-bin/debug" target="_blank" rel="noopener noreferrer" class="nav-link external">
  微信企业号接口调试工具
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=20_1" target="_blank" rel="noopener noreferrer" class="nav-link external">
  微信支付接口签名校验工具
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://mp.weixin.qq.com/debug" target="_blank" rel="noopener noreferrer" class="nav-link external">
  微信公众平台接口调试工具
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://pay.weixin.qq.com/wiki/tools/signverify/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  微信公众平台支付接口调试
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://docs.open.alipay.com/399" target="_blank" rel="noopener noreferrer" class="nav-link external">
  支付宝开发商文档
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://wiki.open.qq.com/wiki/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  腾讯开放平台
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div><div class="nav-item"><a href="/zh/aboutme.html" class="nav-link">关于我</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/zh/guide/" class="nav-link">学习笔记</a></div><div class="nav-item"><a href="/zh/spring/" class="nav-link">源码笔记</a></div><div class="nav-item"><a href="/zh/ludi/" class="nav-link">微服务笔记</a></div><div class="nav-item"><a href="/zh/interview/" class="nav-link router-link-active">Java面试题</a></div><div class="nav-item"><a href="/zh/write/" class="nav-link">手写框架</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">学习文档</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>分布式应用</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://nacos.io/zh-cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Nacos
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://github.com/alibaba/Sentinel" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Sentinel
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://gitee.com/mirrors/Spring-Cloud-Alibaba" target="_blank" rel="noopener noreferrer" class="nav-link external">
  SpringCloud Alibaba
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="http://www.elasticsearch.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ElasticSearch
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="http://skywalking.apache.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  SkyWalking
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.keycloak.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Keycloak
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.sonarqube.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  SonarQube
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>分布式事务</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/seata/seata" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Seata
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="http://www.txlcn.org/zh-cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  TX-LCN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.xuxueli.com/xxl-job/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  XXL-JOB
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>分布式数据库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/zh/interview/%E9%9D%A2%E8%AF%95%E6%80%BB%E7%BB%93/ https://pingcap.com/docs-cn/" class="nav-link">TiDB</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">在线工具</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>在线编辑</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="http://cron.qqe2.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CRON 表达式
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.diffchecker.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Diffchecker 比较工具
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://smallpdf.com/cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  PDF&lt;互转&gt;Word
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.bejson.com/jsoneditoronline" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JSON在线编辑
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.processon.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Processon在线画图
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="http://www.i2symbol.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  在线符号大全
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://tableconvert.com/?output=text" target="_blank" rel="noopener noreferrer" class="nav-link external">
  markdown表格生成
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.toyaml.com/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  YAML&lt;互转&gt;Properties
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>在线答题</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://leetcode-cn.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  力扣
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.nowcoder.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  牛客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.lintcode.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  LintCode
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>在线翻译</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="http://fanyi.youdao.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  有道翻译
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://translate.google.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  谷歌翻译
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>在线转POJO</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="http://java.bejson.com/generator/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  SQL自动生成POJO
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="http://www.bejson.com/json2javapojo/new/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JSON自动生成POJO
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>在线验签</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://qy.weixin.qq.com/cgi-bin/debug" target="_blank" rel="noopener noreferrer" class="nav-link external">
  微信企业号接口调试工具
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=20_1" target="_blank" rel="noopener noreferrer" class="nav-link external">
  微信支付接口签名校验工具
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://mp.weixin.qq.com/debug" target="_blank" rel="noopener noreferrer" class="nav-link external">
  微信公众平台接口调试工具
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://pay.weixin.qq.com/wiki/tools/signverify/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  微信公众平台支付接口调试
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://docs.open.alipay.com/399" target="_blank" rel="noopener noreferrer" class="nav-link external">
  支付宝开发商文档
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://wiki.open.qq.com/wiki/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  腾讯开放平台
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div><div class="nav-item"><a href="/zh/aboutme.html" class="nav-link">关于我</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>面试总结</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/interview/" class="sidebar-link">缓存面试题</a></li><li><a href="/zh/interview/面试总结/Java基础.html" class="sidebar-link">Java 基础</a></li><li><a href="/zh/interview/面试总结/Java线程.html" class="sidebar-link">Java 线程</a></li><li><a href="/zh/interview/面试总结/实现原理系列.html" class="sidebar-link">实现原理系列</a></li><li><a href="/zh/interview/面试总结/Spring基础.html" class="sidebar-link">Spring 基础</a></li><li><a href="/zh/interview/面试总结/Spring事务管理.html" class="sidebar-link">Spring事务管理</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>大厂面试题</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/interview/阿里面试题.html" class="sidebar-link">阿里面试题</a></li><li><a href="/zh/interview/美团面试题.html" class="sidebar-link">美团面试题</a></li><li><a href="/zh/interview/腾讯面试题.html" class="sidebar-link">腾讯面试题</a></li><li><a href="/zh/interview/淘宝面试题.html" class="sidebar-link">淘宝面试题</a></li><li><a href="/zh/interview/百度面试题.html" class="sidebar-link">百度面试题</a></li><li><a href="/zh/interview/京东面试题.html" class="sidebar-link">京东面试题</a></li><li><a href="/zh/interview/头条面试题.html" class="sidebar-link">头条面试题</a></li><li><a href="/zh/interview/支付宝面试题.html" class="sidebar-link">支付宝面试题</a></li><li><a href="/zh/interview/蚂蚁金服面试题.html" class="sidebar-link">蚂蚁金服面试题</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>面试维度汇总</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/interview/面试维度汇总.html" class="sidebar-link">面试维度汇总</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="面试题答疑"><a href="#面试题答疑" class="header-anchor">#</a> 面试题答疑</h1> <blockquote><p>说明
由于个人在开发调试等过程中经常遇到一些莫名其妙的问题，或者面试过程中一些烧脑的问题，在此总结了一下，当做面试技巧，免得自己下次遇到相关问题的的时候不知道如何处理。具体包括一些基础的问题，和一些底层原理等相关知识点，砥砺前行。</p></blockquote> <h2 id="spring经典面试题"><a href="#spring经典面试题" class="header-anchor">#</a> Spring经典面试题<span class="badge warning" style="vertical-align:top;" data-v-c13ee5b0>2019-12</span></h2> <h3 id="spring-框架中都用到了哪些设计模式？"><a href="#spring-框架中都用到了哪些设计模式？" class="header-anchor">#</a> Spring 框架中都用到了哪些设计模式？</h3> <div class="custom-block tip"><p class="custom-block-title">参考答案</p> <ul><li><p><strong>模板方法</strong>，用来解决代码重复的问题。比如.：RestTemplate, JmsTemplate, JpaTemplate。</p></li> <li><p><strong>代理模式</strong>，Spring的Proxy模式在aop中有体现，比如JdkDynamicAopProxy和Cglib2AopProxy。</p></li> <li><p><strong>观察者模式</strong>，Spring中Observer模式常用的地方是listener的实现。如ApplicationListener。</p></li> <li><p><strong>装饰器模式</strong>，Spring中用到的包装器模式在类名上有两种表现：一种是类名中含有Wrapper，另一种是类名中含有Decorator。基本上都是动态地给一个对象添加一些额外的职责。</p></li> <li><p><strong>适配器模式</strong>，将一个类的接口转换成客户希望的另外一个接口。Adapter模式使得原本由于接口不兼容而不能一起工作的那些类可以一起工作。</p></li> <li><p><strong>单例模式</strong>，Spring中的单例模式提供了全局的访问点BeanFactory。但没有从构造器级别去控制单例，这是因为Spring管理的是是任意的Java对象。</p></li> <li><p><strong>工厂方法</strong>，定义一个用于创建对象的接口，让子类决定实例化哪一个类。Spring中的FactoryBean就是典型的工厂方法模式。</p></li></ul></div> <h3 id="spring-容器对-bean-的生命周期？"><a href="#spring-容器对-bean-的生命周期？" class="header-anchor">#</a> Spring 容器对 Bean 的生命周期？</h3> <div class="custom-block tip"><p class="custom-block-title">参考答案</p> <ul><li>①. 通过构造器或工厂方法创建 Bean 实例 ，默认都是单例。</li> <li>②. 为 Bean 的属性设置值和对其他 Bean 的引用 ，也就是依赖注入的过程，对应源码中的populatBean方法;</li> <li>③ . 将 Bean 实 例 传 递 给 Bean 后 置 处 理 器 的 postProcessBeforeInitialization 方 法 。</li> <li>④. 调用 Bean 的初始化方法(init-method) 。</li> <li>⑤ . 将 Bean 实 例 传 递 给 Bean 后 置 处 理 器 的 postProcessAfterInitialization 方法。</li> <li>⑥. Bean 已经依赖注入完毕，可以使用。</li> <li>⑦. 当容器关闭时, 调用 Bean 的销毁方法(destroy-method) 。</li></ul></div> <h3 id="为什么jdk动态代理的类一定是接口？"><a href="#为什么jdk动态代理的类一定是接口？" class="header-anchor">#</a> 为什么jdk动态代理的类一定是接口？</h3> <div class="custom-block tip"><p class="custom-block-title">参考答案</p> <p>因为JDK中动态生成的代理类已经继承了Proxy代理类，因此必须是接口，才能被$Proxy 继承代理，也就是java单继承多实现的原则。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//Proxy类生成代理类的方法</span>
 <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> proxyClassFile <span class="token operator">=</span> <span class="token class-name">ProxyGenerator</span><span class="token punctuation">.</span><span class="token function">generateProxyClass</span><span class="token punctuation">(</span>
               proxyName<span class="token punctuation">,</span> interfaces<span class="token punctuation">,</span> accessFlags<span class="token punctuation">)</span><span class="token punctuation">;</span>
               
<span class="token comment">//根据字节码自动生成的代理类，默认已经继承了Proxy               </span>
<span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">class</span> $<span class="token class-name">Proxy</span> <span class="token keyword">extends</span> <span class="token class-name">Proxy</span> <span class="token keyword">implements</span> <span class="token class-name">People</span> <span class="token punctuation">{</span>
   <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Method</span> m1<span class="token punctuation">;</span>
   <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Method</span> m3<span class="token punctuation">;</span>
   <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Method</span> m2<span class="token punctuation">;</span>
   <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Method</span> m0<span class="token punctuation">;</span>

   <span class="token keyword">public</span> $<span class="token class-name">Proxy</span><span class="token punctuation">(</span><span class="token class-name">InvocationHandler</span> var1<span class="token punctuation">)</span> <span class="token keyword">throws</span>  <span class="token punctuation">{</span>
       <span class="token keyword">super</span><span class="token punctuation">(</span>var1<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="使用spring框架的好处是什么？"><a href="#使用spring框架的好处是什么？" class="header-anchor">#</a> 使用Spring框架的好处是什么？</h3> <div class="custom-block tip"><p class="custom-block-title">参考答案</p> <ul><li>轻量：Spring 是轻量的，基本的版本大约2MB。</li> <li>控制反转：Spring通过控制反转实现了松散耦合，对象们给出它们的依赖，而不是创建或查找依赖的对象们。</li> <li>面向切面的编程(AOP)：Spring支持面向切面的编程，并且把应用业务逻辑和系统服务分开。</li> <li>容器：Spring 包含并管理应用中对象的生命周期和配置。</li> <li>MVC框架：Spring的WEB框架是个精心设计的框架，是Web框架的一个很好的替代品。</li> <li>事务管理：Spring 提供一个持续的事务管理接口，可以扩展到上至本地事务下至全局事务（JTA）。</li> <li>异常处理：Spring 提供方便的API把具体技术相关的异常（比如由JDBC，Hibernate or JDO抛出的）转化为一致的unchecked 异常。</li></ul></div> <h3 id="在-spring-框架中共自动装配方式有哪些？"><a href="#在-spring-框架中共自动装配方式有哪些？" class="header-anchor">#</a> 在 Spring 框架中共自动装配方式有哪些？</h3> <div class="custom-block tip"><p class="custom-block-title">参考答案</p> <ol><li>no：这是 Spring 框架的默认设置，在该设置下自动装配是关闭的，开发者需要自行在 bean 定义 中用标签明确的设置依赖关系。</li> <li>byName：该选项可以根据 bean 名称设置依赖关系。当向一个 bean 中自动装配一个属性时，容 器将根据 bean 的名称自动在在配置文件中查询一个匹配的 bean。如果找到的话，就装配这个属 性，如果没找到的话就报错。</li> <li>byType：该选项可以根据 bean 类型设置依赖关系。当向一个 bean 中自动装配一个属性时，容器 将根据 bean 的类型自动在在配置文件中查询一个匹配的 bean。如果找到的话，就装配这个属性， 如果没找到的话就报错。</li> <li>constructor：造器的自动装配和 byType 模式类似，但是仅仅适用于与有构造器相同参数的 bean，如果在容器中没有找到与构造器参数类型一致的 bean，那么将会抛出异常。</li> <li>autodetect：该模式自动探测使用构造器自动装配或者 byType 自动装配。首先，首先会尝试找合 适的带参数的构造器，如果找到的话就是用构造器自动装配，如果在 bean 内部没有找到相应的构 造器或者是无参构造器，容器就会自动选择 byTpe 的自动装配方式。</li></ol></div> <h3 id="请举例解释-autowired-注解？"><a href="#请举例解释-autowired-注解？" class="header-anchor">#</a> 请举例解释@Autowired 注解？</h3> <div class="custom-block tip"><p class="custom-block-title">参考答案</p> <ul><li><p>当 Spring 容器在 setter 方法上找到@Autowired 注解时，会尝试用 byType 自动装配。</p></li> <li><p>也可以在构造方法上使用@Autowired 注解。带有@Autowired 注解的构造方法意味着 在创建一个 bean 时将会被自动装配。</p></li></ul></div> <h3 id="构造方法注入和设值注入有什么区别？"><a href="#构造方法注入和设值注入有什么区别？" class="header-anchor">#</a> 构造方法注入和设值注入有什么区别？</h3> <div class="custom-block tip"><p class="custom-block-title">参考答案</p> <ul><li>在使用设值注入时有可能还不能保证某种依赖是否已经被注入，也就是说这时对象的依赖关系有可 能是不完整的。而在另一种情况下，构造器注入则不允许生成依赖关系不完整的对象。</li> <li></li></ul></div> <h3 id="spring-提供了哪些事件？"><a href="#spring-提供了哪些事件？" class="header-anchor">#</a> Spring 提供了哪些事件？</h3> <div class="custom-block tip"><p class="custom-block-title">参考答案</p> <ol><li>上下文更新事件（ContextRefreshedEvent）：该事件会在 ApplicationContext 被初始化或者 更新时发布。也可以在调用 ConfigurableApplicationContext 接口中的 refresh()方法时被触 发。</li> <li>上下文开始事件（ContextStartedEvent）：当容器调用 ConfigurableApplicationContext 的 Start()方法开始/重新开始容器时触发该事件。</li> <li>上下文停止事件（ContextStoppedEvent）：当容器调用 ConfigurableApplicationContext 的 Stop()方法停止容器时触发该事件。</li> <li>上下文关闭事件（ContextClosedEvent）：当 ApplicationContext 被关闭时触发该事件。容器 被关闭时，其管理的所有单例 Bean 都被销毁。</li> <li>请求处理事件（RequestHandledEvent）：在 Web 应用中，当一个 http 请求（request）结束 触发该事件。</li></ol></div> <div class="custom-block warning"><p class="custom-block-title">扩展阅读</p> <ul><li><p>除了上面介绍的事件以外，还可以通过扩展 ApplicationEvent 类来开发自定义的事件。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CustomApplicationEvent</span> <span class="token keyword">extends</span> <span class="token class-name">ApplicationEvent</span><span class="token punctuation">{</span>         
    <span class="token keyword">public</span> <span class="token class-name">CustomApplicationEvent</span> <span class="token punctuation">(</span> <span class="token class-name">Object</span> source<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token class-name">String</span> msg <span class="token punctuation">)</span><span class="token punctuation">{</span>             
        <span class="token keyword">super</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span>             
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Created a Custom event&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         
    <span class="token punctuation">}</span>     
<span class="token punctuation">}</span>     
</code></pre></div></li> <li><p>为了监听这个事件，还需要创建一个监听器</p></li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CustomEventListener</span> <span class="token keyword">implements</span> <span class="token class-name">ApplicationListener</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CustomApplicationEvent</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>         
<span class="token annotation punctuation">@Override</span>         
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onApplicationEvent</span><span class="token punctuation">(</span><span class="token class-name">CustomApplicationEvent</span> applicationEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span>             <span class="token comment">//handle event         </span>
<span class="token punctuation">}</span>     
<span class="token punctuation">}</span>   
</code></pre></div><ul><li>之后通过 applicationContext 接口的 publishEvent()方法来发布自定义事件</li></ul> <div class="language-java extra-class"><pre class="language-java"><code> <span class="token class-name">CustomApplicationEvent</span> customEvent <span class="token operator">=</span> <span class="token keyword">new</span>
 <span class="token class-name">CustomApplicationEvent</span><span class="token punctuation">(</span>applicationContext<span class="token punctuation">,</span> <span class="token string">&quot;Test message&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 applicationContext<span class="token punctuation">.</span><span class="token function">publishEvent</span><span class="token punctuation">(</span>customEvent<span class="token punctuation">)</span><span class="token punctuation">;</span>   
</code></pre></div></div> <h2 id="java基础面试题"><a href="#java基础面试题" class="header-anchor">#</a> JAVA基础面试题 <span class="badge warning" style="vertical-align:top;" data-v-c13ee5b0>2019-04</span></h2> <h3 id="new-string-和-tostring-有什么区别？"><a href="#new-string-和-tostring-有什么区别？" class="header-anchor">#</a> new String() 和 toString() 有什么区别？</h3> <div class="custom-block tip"><p class="custom-block-title">参考答案</p> <ul><li><code>toString()</code> 是调用了Object 对象类的 <code>toString()</code> 方法，默认返回当前对象(c)的内存地址即<code>hashCode</code>。也就是<code>[class name]@[hashCode]</code>格式，如：<code>[B@312b1dae</code>。</li> <li>new String(para)是根据para是一个字节数组，使用Java虚拟机默认的编码格式，将这个字节数组decode为对应的字符，返回的是真实的值。</li></ul> <p>该问题发生在使用Socket读取客户端的字节流，把<code>bytes.toString()</code>却输出了<code>hashCode</code>值，而用<code>new String(bytes)</code>则正确的打出了值。</p></div> <h3 id="如何理解java关键字this？"><a href="#如何理解java关键字this？" class="header-anchor">#</a> 如何理解Java关键字this？</h3> <div class="custom-block tip"><p class="custom-block-title">参考答案</p> <ul><li>首先，this关键字必须放在非静态方法里面。</li> <li>可以使用this关键字引用成员变量。</li> <li>使用this关键字在自身构造方法内部引用其它构造方法。</li> <li>使用this关键字代表自身类的对象。</li> <li>使用this关键字引用成员方法。</li></ul></div> <div class="custom-block warning"><p class="custom-block-title">this关键字是一个对象的默认引用。作为对象的默认引用，有两种情形：</p> <ol><li>在<code>构造器</code>中，引用<code>该构造器执行初始化的</code>对象。</li> <li>在<code>方法</code>中，引用<code>调用该方法的</code>对象。</li></ol></div> <h3 id="构造方法的作用？"><a href="#构造方法的作用？" class="header-anchor">#</a> 构造方法的作用？</h3> <div class="custom-block tip"><p class="custom-block-title">参考答案</p> <p>首先每个类都有一个无参数的默认构造函数。这也是为什么有些类即便没有写构造方法也可以通过new来实例化。</p> <ul><li>为了初始化成员属性，而不是初始化对象，初始化对象是通过new关键字实现的。</li> <li>通过new调用构造方法初始化对象，编译时根据参数签名来检查构造函数。</li> <li>创建子类对象会调用父类构造方法但不会创建父类对象，只是调用父类构造方法初始化父类成员属性；</li></ul></div> <div class="custom-block warning"><p class="custom-block-title">`继承中的构造方法，有下面这些规则需要遵守`</p> <ul><li>1.子类的构造过程中必须调用其父类的构造方法</li> <li>2.子类可以在自己的构造方法中使用super(参数列表)调用父类的构造方法</li> <li>(1).可以使用this(参数列表)调用自己这个类的其他的构造方法
调用this的时候也调用了父类的构造方法</li> <li>(2).如果调用了super，必须写在子类构造方法的第一行</li> <li>(3).this也必须放在第一行,所以this,super在一个构造方法里无法同时出现
实际上严格来讲，还是能实现的，用内部类。在内部类里面，可以使用一个this或者super</li> <li>3.如果子类的构造方法中没有显示地调用父类构造方法，系统默认调用父类那个无参数的构造方法</li> <li>4.如果子类构造方法中既没有显示调用父类构造方法，而父类中又没有无参的构造方法，编译会报错。
构造器中一定不要创建自身的实例，否则会造成调用栈溢出错误。</li></ul></div> <div class="custom-block danger"><p class="custom-block-title">构造器中一定不要创建自身的实例，否则会造成调用栈溢出错误。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">class</span> a
<span class="token punctuation">{</span>
  a _a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">public</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
    _a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    a _b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>以上三种情况都会造成栈溢出，会造成一个无穷递归的调用栈。</p></div> <h2 id="redis面试题"><a href="#redis面试题" class="header-anchor">#</a> Redis面试题</h2> <h3 id="如何理解redis的底层原理"><a href="#如何理解redis的底层原理" class="header-anchor">#</a> 如何理解Redis的底层原理</h3> <div class="custom-block tip"><p class="custom-block-title">参考答案</p> <p>Redis采用了RESP通讯协议，底层通过Socket来实现信息的传递和获取。</p></div> <h3 id="为什么redis是单线程"><a href="#为什么redis是单线程" class="header-anchor">#</a> 为什么Redis是单线程</h3> <div class="custom-block tip"><p class="custom-block-title">参考答案</p> <p>官方FAQ表示，因为Redis是基于内存的操作，CPU不是Redis的瓶颈，Redis的瓶颈最有可能是机器内存的大小或者网络带宽。既然单线程容易实现，而且CPU不会成为瓶颈，那就顺理成章地采用单线程的方案了（毕竟采用多线程会有很多麻烦！）。</p></div> <h3 id="如何理解缓存穿透、缓存雪崩、缓存预热"><a href="#如何理解缓存穿透、缓存雪崩、缓存预热" class="header-anchor">#</a> 如何理解缓存穿透、缓存雪崩、缓存预热</h3> <div class="custom-block tip"><p class="custom-block-title">参考答案</p> <ul><li>缓存穿透是指查询一个一定不存在的数据，由于缓存是不命中时需要从数据库查询，查不到数据则不写入缓存，这将导致这个不存在的数据每次请求都要到数据库去查询，造成缓存穿透。</li> <li>如果缓存集中在一段时间内失效，发生大量的缓存穿透，所有的查询都落在数据库上，造成了缓存雪崩。</li> <li>通过缓存reload机制，预先去更新缓存，再即将发生大并发访问前手动触发加载缓存不同的key，设置不同的过期时间，让缓存失效的时间点尽量均匀。</li></ul></div> <h2 id="多线程面试题"><a href="#多线程面试题" class="header-anchor">#</a> 多线程面试题</h2> <h3 id="多线程有几种实现方式"><a href="#多线程有几种实现方式" class="header-anchor">#</a> 多线程有几种实现方式</h3> <div class="custom-block tip"><p class="custom-block-title">参考答案</p> <ul><li>继承Thread类</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ThreadDemo</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span> <span class="token punctuation">{</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 打印当前线程的名字</span>
			<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; is running ... &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
			<span class="token keyword">try</span> <span class="token punctuation">{</span>
				<span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 休息1000ms</span>
			<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">ThreadDemo</span> td <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ThreadDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		td<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 启动线程</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 打印当前线程的名字</span>
			<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; is running ... &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
			<span class="token keyword">try</span> <span class="token punctuation">{</span>
				<span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 休息1000ms</span>
			<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><ul><li>实现Runnable接口</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ThreadTarget</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span> <span class="token punctuation">{</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; is running .. &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">try</span> <span class="token punctuation">{</span>
				<span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre></div><ul><li>内部类的方式</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DemoThread</span> <span class="token punctuation">{</span>
	
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		
		<span class="token comment">// 基于子类的实现</span>
		<span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token comment">// 打印当前线程的名字</span>
					<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; is running ... &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
					<span class="token keyword">try</span> <span class="token punctuation">{</span>
                         <span class="token comment">// 休息1000ms</span>
						<span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
						e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		<span class="token comment">// 基于接口的实现</span>
		<span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token annotation punctuation">@Override</span>
			<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token comment">// 打印当前线程的名字</span>
					<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; is running ... &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
					<span class="token keyword">try</span> <span class="token punctuation">{</span>
						<span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 休息1000ms</span>
					<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
						e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		<span class="token comment">// 主线程的方法</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 打印当前线程的名字</span>
			<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; is running ... &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
			<span class="token keyword">try</span> <span class="token punctuation">{</span>
				<span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 休息1000ms</span>
			<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><ul><li>实现Callable接口
现Callable接口,增加了异常和返回值,需要创建一个FutureTask，指定Callable对象，做为线程任务。</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CallableTest</span> <span class="token punctuation">{</span>
	
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
		<span class="token class-name">Callable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> call <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Callable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token annotation punctuation">@Override</span>
			<span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
				<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;thread start .. &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>
		
		<span class="token class-name">FutureTask</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> task <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FutureTask</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>call<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">Thread</span> t <span class="token operator">=</span>  <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>task<span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		t<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;do other thing .. &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;拿到线程的执行结果 ： &quot;</span> <span class="token operator">+</span> task<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre></div><p><code>Callable中可以通过范型参数来指定线程的返回值类型。通过FutureTask的get方法拿到线程的返回值。</code></p> <ul><li>线程池的方式</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ThreadPoolDemo</span> <span class="token punctuation">{</span>
	
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		
		<span class="token comment">// 创建线程池</span>
		<span class="token class-name">ExecutorService</span> threadPool <span class="token operator">=</span> <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">newFixedThreadPool</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// 提交多个线程任务，并执行</span>
			threadPool<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
				<span class="token annotation punctuation">@Override</span>
				<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; is running ..&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token keyword">try</span> <span class="token punctuation">{</span>
						<span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
						e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre></div><ul><li><code>Spring方式</code>：这种方式依赖于Spring3以上版本，我们可以通过Spring的@Async注解非常方便的实现多线程。</li></ul></div> <h3 id="线程池中submit-和execute-的区别"><a href="#线程池中submit-和execute-的区别" class="header-anchor">#</a> 线程池中submit()和execute()的区别</h3> <div class="custom-block tip"><p class="custom-block-title">参考答案</p> <p>两个方法都可以向线程池提交任务，execute()方法的返回类型是void，它定义在Executor接口中, 而submit()方法可以返回持有计算结果的Future对象，它定义在ExecutorService接口中，它扩展了Executor接口，其它线 程池类像ThreadPoolExecutor和ScheduledThreadPoolExecutor都有这些方法。</p></div> <h3 id="synchronized-和-reentrantlock的区别"><a href="#synchronized-和-reentrantlock的区别" class="header-anchor">#</a> synchronized 和 ReentrantLock的区别</h3> <div class="custom-block tip"><p class="custom-block-title">参考答案</p> <p>Java在过去很长一段时间只能通过synchronized关键字来实现互斥，它有一些缺点。比如你不能扩展锁之外的方法或者块边界，尝试获取锁 时不能中途取消等。Java 5 通过Lock接口提供了更复杂的控制来解决这些问题。 ReentrantLock 类实现了 Lock，它拥有与 synchronized 相同的并发性和内存语义且它还具有可扩展性。</p></div> <h3 id="怎么检测一个线程是否拥有锁"><a href="#怎么检测一个线程是否拥有锁" class="header-anchor">#</a> 怎么检测一个线程是否拥有锁</h3> <div class="custom-block tip"><p class="custom-block-title">参考答案</p> <p>在java.lang.Thread中有一个方法叫holdsLock()，它返回true如果当且仅当当前线程拥有某个具体对象的锁。</p></div> <h3 id="java中的同步集合与并发集合的区别"><a href="#java中的同步集合与并发集合的区别" class="header-anchor">#</a> Java中的同步集合与并发集合的区别</h3> <div class="custom-block tip"><p class="custom-block-title">参考答案</p> <ul><li><p>HashTable(同步集合)比并发集合会慢得多，主要原因是锁，同步集合会对整个Map或List加锁。</p></li> <li><p>ConcurrentHashMap(并发集合)：把整个Map 划分成几个片段，只对相关的几个片段上锁，同时允许多线程访问其他未上锁的片段。</p></li></ul></div> <h3 id="什么是threadlocal变量"><a href="#什么是threadlocal变量" class="header-anchor">#</a> 什么是ThreadLocal变量</h3> <div class="custom-block tip"><p class="custom-block-title">参考答案</p> <p>ThreadLocal是Java里一种特殊的变量。每个线程都有一个ThreadLocal就是每个线程都拥有了自己独立的一个变量，竞争条件被 彻底消除了。它是为创建代价高昂的对象获取线程安全的好方法，比如你可以用ThreadLocal让SimpleDateFormat变成线程安全的，因 为那个类创建代价高昂且每次调用都需要创建不同的实例所以不值得在局部范围使用它，如果为每个线程提供一个自己独有的变量拷贝，将大大提高效率。首先，通 过复用减少了代价高昂的对象的创建个数。其次，你在没有使用高代价的同步或者不变性的情况下获得了线程安全。线程局部变量的另一个不错的例子是 ThreadLocalRandom类，它在多线程环境中减少了创建代价高昂的Random对象的个数。</p></div> <h3 id="如何在两个线程间共享数据"><a href="#如何在两个线程间共享数据" class="header-anchor">#</a> 如何在两个线程间共享数据</h3> <div class="custom-block tip"><p class="custom-block-title">参考答案</p> <ul><li>wait 和 notify方法。</li> <li>使用 volatile 关键字。</li> <li>CountDownLatch 并发工具</li> <li>CyclicBarrier 并发工具</li> <li>管道输入/输出流：PipedOutputStream、PipedInputStream、 PipedReader和PipedWriter，前两种面向字节，而后两种面向字符。</li></ul></div> <h3 id="java中runnable和callable有什么不同"><a href="#java中runnable和callable有什么不同" class="header-anchor">#</a> Java中Runnable和Callable有什么不同</h3> <div class="custom-block tip"><p class="custom-block-title">参考答案</p> <p>Runnable和Callable都代表那些要在不同的线程中执行的任务。Runnable从JDK1.0开始就有了，Callable是在 JDK1.5增加的。它们的主要区别是Callable的 call() 方法可以返回值和抛出异常，而Runnable的run()方法没有这些功能。Callable可以返回装载有计算结果的Future对象。</p></div> <h2 id="实现原理"><a href="#实现原理" class="header-anchor">#</a> 实现原理</h2> <h3 id="synchronized的实现原理"><a href="#synchronized的实现原理" class="header-anchor">#</a> <code>synchronized</code>的实现原理</h3> <div class="custom-block tip"><p class="custom-block-title">参考答案</p> <p><code>Synchronized</code>的语义底层是通过一个monitor的对象来完成，其实wait/notify等方法也依赖于monitor对象，这就是为什么只有在同步的块或者方法中才能调用wait/notify等方法，否则会抛出<code>java.lang.IllegalMonitorStateException</code>的异常的原因。</p> <div class="language-bash extra-class"><pre class="language-bash"><code> monitorenter：
  每个对象有一个监视器锁（monitor）。当monitor被占用时就会处于锁定状态，线程执行monitorenter指令时尝试获取monitor的所有权，过程如下：
 - <span class="token number">1</span>、如果monitor的进入数为0，则该线程进入monitor，然后将进入数设置为1，该线程即为monitor的所有者。
 - <span class="token number">2</span>、如果线程已经占有该monitor，只是重新进入，则进入monitor的进入数加1.
 - <span class="token number">3</span>.如果其他线程已经占用了monitor，则该线程进入阻塞状态，直到monitor的进入数为0，再重新尝试获取  monitor的所有权。
 
 monitorexit：
  执行monitorexit的线程必须是objectref所对应的monitor的所有者。

 指令执行时，monitor的进入数减1，如果减1后进入数为0，那线程退出monitor，不再是这个monitor的所有者。其他被这个monitor阻塞的线程可以尝试去获取这个 monitor 的所有权。 
</code></pre></div></div> <h3 id="volatile的实现原理"><a href="#volatile的实现原理" class="header-anchor">#</a> <code>volatile</code>的实现原理</h3> <div class="custom-block tip"><p class="custom-block-title">参考答案</p> <p>在JVM底层volatile是采用“内存屏障”来实现的。观察加入volatile关键字和没有加入volatile关键字时所生成的汇编代码发现，加入volatile关键字时，会多出一个lock前缀指令，lock前缀指令实际上相当于一个内存屏障（也成内存栅栏），内存屏障会提供3个功能：</p> <ul><li>它确保指令重排序时不会把其后面的指令排到内存屏障之前的位置，也不会把前面的指令排到内存屏障的后面；即在执行到内存屏障这句指令时，在它前面的操作已经全部完成；</li> <li>它会强制将对缓存的修改操作立即写入主存；</li> <li>如果是写操作，它会导致其他CPU中对应的缓存行无效。</li></ul></div> <h3 id="atomicinteger的实现原理"><a href="#atomicinteger的实现原理" class="header-anchor">#</a> <code>AtomicInteger</code>的实现原理</h3> <div class="custom-block tip"><p class="custom-block-title">参考答案</p> <p>AtomicInteger内部声明了一个volatile修饰的变量value用来保存实际值
使用带参的构造函数会将入参赋值给value，无参构造器value默认值为0</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">AtomicInteger</span><span class="token punctuation">(</span><span class="token keyword">int</span> initialValue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  value <span class="token operator">=</span> initialValue<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">import</span> <span class="token namespace">sun<span class="token punctuation">.</span>misc</span><span class="token punctuation">.</span><span class="token class-name">Unsafe</span><span class="token punctuation">;</span>
<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Unsafe</span> unsafe <span class="token operator">=</span> <span class="token class-name">Unsafe</span><span class="token punctuation">.</span><span class="token function">getUnsafe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> valueOffset<span class="token punctuation">;</span>
<span class="token keyword">static</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    valueOffset <span class="token operator">=</span> unsafe<span class="token punctuation">.</span>objectFieldOffset
      <span class="token punctuation">(</span><span class="token class-name">AtomicInteger</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getDeclaredField</span><span class="token punctuation">(</span><span class="token string">&quot;value&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span>ex<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/*
 * 可以看到自增函数中调用了Unsafe函数的getAndAddInt方法
 */</span>
<span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token function">incrementAndGet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> unsafe<span class="token punctuation">.</span><span class="token function">getAndAddInt</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> valueOffset<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div></div> <div class="custom-block warning"><p class="custom-block-title">扩展</p> <p>Unsafe类是在sun.misc包下，不属于Java标准。但是很多Java的基础类库，包括一些被广泛使用的高性能开发库都是基于Unsafe类开发的，比如Netty、Cassandra、Hadoop、Kafka等。Unsafe类在提升Java运行效率，增强Java语言底层操作能力方面起了很大的作用。
Unsafe类使Java拥有了像C语言的指针一样操作内存空间的能力，同时也带来了指针的问题。过度的使用Unsafe类会使得出错的几率变大，因此Java官方并不建议使用的，官方文档也几乎没有。
通常我们最好也不要使用Unsafe类，除非有明确的目的，并且也要对它有深入的了解才行。
CAS也并非完美的，它会导致ABA问题，就是说，当前内存的值一开始是A，被另外一个线程先改为B然后再改为A，那么当前线程访问的时候发现是A，则认为它没有被其他线程访问过。在某些场景下这样是存在错误风险的。比如在链表中。</p> <p>那么如何解决这个ABA问题呢，大多数情况下乐观锁的实现都会通过引入一个版本号标记这个对象，每次修改版本号都会变话，比如使用时间戳作为版本号，这样就可以很好的解决ABA问题。</p></div> <h3 id="hashmap的实现原理"><a href="#hashmap的实现原理" class="header-anchor">#</a> <code>HashMap</code>的实现原理</h3> <div class="custom-block tip"><p class="custom-block-title">参考答案</p> <ul><li>HashMap底层使用数组实现，数组中每一项是个单向链表，即数组和链表的结合体；当链表长度大于一定阈值时，链表转换为红黑树，这样减少链表查询时间。</li> <li>HashMap在底层将key-value当成一个整体进行处理，这个整体就是一个Node对象。HashMap底层采用一个Node[]数组来保存所有的key-value对，当需要存储一个Node对象时，会根据key的hash算法来决定其在数组中的存储位置，在根据equals方法决定其在该数组位置上的链表中的存储位置；当需要取出一个Node时，也会根据key的hash算法找到其在数组中的存储位置，再根据equals方法从该位置上的链表中取出该Node。</li></ul></div> <h3 id="concurrenthashmap的实现原理"><a href="#concurrenthashmap的实现原理" class="header-anchor">#</a> <code>ConcurrentHashMap</code>的实现原理</h3> <div class="custom-block tip"><p class="custom-block-title">参考答案</p> <ul><li><p><strong>JDK1.7：</strong></p> <ul><li>ConcurrentHashMap内部使用段(Segment)来表示这些不同的部分，每个段其实就是一个小的HashTable,它们有自己的锁。只要多个修改操作发生在不同的段上，它们就可以并发进行。把一个整体分成了16个段(Segment.也就是最高支持16个线程的并发修改操作。这也是在重线程场景时减小锁的粒度从而降低锁竞争的一种方案。并且代码中大多共享变量使用volatile关键字声明，目的是第一时间获取修改的内容，性能非常好。</li></ul></li> <li><p><strong>JDK1.8：</strong></p> <ul><li>1.8中放弃了Segment臃肿的设计，取而代之的是采用Node + CAS + Synchronized来保证并发安全进行实现。</li></ul></li></ul></div> <h3 id="method-invoke-实现原理"><a href="#method-invoke-实现原理" class="header-anchor">#</a> <code>Method.invoke()</code>实现原理</h3> <div class="custom-block tip"><p class="custom-block-title">参考答案</p> <ul><li>Method.invoke()实际上并不是自己实现的反射调用逻辑，而是委托给sun.reflect.MethodAccessor来处理。首先要了解Method对象的基本构成，每个Java方法有且只有一个Method对象作为root，它相当于根对象，对用户不可见。当我们创建Method对象时，我们代码中获得的Method对象都相当于它的副本（或引用）。root对象持有一个MethodAccessor对象，所以所有获取到的Method对象都共享这一个MethodAccessor对象，因此必须保证它在内存中的可见性。</li></ul></div> <h3 id="索引的实现原理"><a href="#索引的实现原理" class="header-anchor">#</a> 索引的实现原理</h3> <div class="custom-block tip"><p class="custom-block-title">参考答案</p> <p><strong><code>BTree</code>结构</strong>
一般来说B+Tree比BTree更适合实现外存的索引结构，因为存储引擎的设计专家巧妙的利用了外存（磁盘）的存储结构，即磁盘的一个扇区是整数倍的page（页），页是存储中的一个单位，通常默认为4K，因此索引结构的节点被设计为一个页的大小，然后利用外存的“预读取”原则，每次读取的时候，把整个节点的数据读取到内存中，然后在内存中查找，已知内存的读取速度是外存读取I/O速度的几百倍，那么提升查找速度的关键就在于尽可能少的磁盘I/O，那么可以知道，每个节点中的key个数越多，那么树的高度越小，需要I/O的次数越少，因此一般来说B+Tree比BTree更快，因为B+Tree的非叶节点中不存储data，就可以存储更多的key。</p></div> <h3 id="mybatis的实现原理"><a href="#mybatis的实现原理" class="header-anchor">#</a> <code>MyBatis</code>的实现原理</h3> <div class="custom-block tip"><p class="custom-block-title">参考答案</p> <ul><li>MyBatis应用程序通过SqlSessionFactoryBuilder从mybatis-config.xml配置文件（也可以用Java文件配置的方式，需要添加@Configuration）中构建出SqlSessionFactory（SqlSessionFactory是线程安全的）。然后，SqlSessionFactory的实例直接开启一个SqlSession，再通过SqlSession实例获得Mapper对象并运行Mapper映射的SQL语句，完成对数据库的CRUD和事务提交，之后关闭SqlSession。
说明：SqlSession是单线程对象，因为它是非线程安全的，是持久化操作的独享对象，类似jdbc中的Connection，底层就封装了jdbc连接。`</li></ul> <p><strong>MyBatis从功能架构上可以分为三层：</strong></p> <ul><li><p>API接口层：提供给外部使用的接口API，开发人员通过这些本地API来操纵数据库。接口层一接收到调用请求就会调用数据处理层来完成具体的数据处理。</p></li> <li><p>数据处理层：负责具体的SQL查找、SQL解析、SQL执行和执行结果映射处理等。它主要的目的是根据调用的请求完成一次数据库操作。</p></li> <li><p>基础支撑层：负责最基础的功能支撑，包括连接管理、事务管理、配置加载和缓存处理，这些都是共用的东西，将他们抽取出来作为最基础的组件。为上层的数据处理层提供最基础的支撑。</p></li></ul></div> <h3 id="arraylis实现原理"><a href="#arraylis实现原理" class="header-anchor">#</a> <code>ArrayLis</code>实现原理</h3> <div class="custom-block tip"><p class="custom-block-title">参考答案</p> <p>首页，ArrayList底层使用数组实现,集合是可变长度数组，初始容量是10，数组扩容时，会将老数组中的元素重新拷贝一份到新的数组中，每次数组容量增长大约是其容量的1.5倍，这种操作的代价很高。List接口的可变数组非同步实现，并允许包括null在内的所有元素，并且使用到了System.arraycopy方法。</p> <div class="language-java extra-class"><pre class="language-java"><code> <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">,</span> <span class="token class-name">E</span> element<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">&gt;</span> size <span class="token operator">||</span> index <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
       <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IndexOutOfBoundsException</span><span class="token punctuation">(</span> <span class="token string">&quot;Index: &quot;</span><span class="token operator">+</span>index<span class="token operator">+</span><span class="token string">&quot;, Size: &quot;</span><span class="token operator">+</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token function">ensureCapacity</span><span class="token punctuation">(</span>size<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Increments modCount!!</span>
       <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">arraycopy</span><span class="token punctuation">(</span>elementData<span class="token punctuation">,</span> index<span class="token punctuation">,</span> elementData<span class="token punctuation">,</span> index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> size <span class="token operator">-</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>
       elementData<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> element<span class="token punctuation">;</span>
       size<span class="token operator">++</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="字符串的工作原理"><a href="#字符串的工作原理" class="header-anchor">#</a> 字符串的工作原理</h3> <div class="custom-block tip"><p class="custom-block-title">参考答案</p> <ul><li>当代码中出现字面量形式创建字符串对象时吗，JVM就会首先对这个字面量进行检查，，如果字符串常量池中存在相同内容的字符串对象的引用，则将这个引用返回，否则新的字符串对象就被创建，然后将这个引用放入字符串常量池中，并返回该引用。</li></ul></div> <h3 id="jvm的工作原理"><a href="#jvm的工作原理" class="header-anchor">#</a> <code>JVM</code>的工作原理</h3> <div class="custom-block tip"><p class="custom-block-title">参考答案</p> <p><strong>装载</strong></p> <ul><li>装载过程负责找到二进制字节码并加载至<code>JVM</code>中，<code>JVM</code>通过类名、类所在的包名通过<code>ClassLoader</code>来完成类的加载，同样，也采用以上三个元素来标识一个被加载了的类：类名+包名+ClassLoader实例ID。</li></ul> <p><strong>链接</strong></p> <ul><li>链接过程负责对二进制字节码的格式进行校验、初始化装载类中的静态变量以及解析类中调用的接口、类。在完成了校验后，<code>JVM</code>初始化类中的静态变量，并将其值赋为默认值。最后一步为对类中的所有属性、方法进行验证，以确保其需要调用的属性、方法存在，以及具备应的权限（例如public、private域权限等），会造成<code>NoSuchMethodError</code>、<code>NoSuchFieldError</code>等错误信息。</li></ul> <p><strong>初始化</strong></p> <ul><li>初始化过程即为执行类中的静态初始化代码、构造器代码以及静态属性的初始化，在四种情况下初始化过程会被触发执行：调用了new；反射调用了类中的方法；子类调用了初始化；JVM启动过程中指定的初始化类。</li></ul></div> <h3 id="redis工作原理"><a href="#redis工作原理" class="header-anchor">#</a> <code>Redis</code>工作原理</h3> <div class="custom-block tip"><p class="custom-block-title">参考答案</p> <p><code>Redis采用的是基于内存的采用的是单进程单线程模型的 KV 数据库</code>,可以达到<code>100000+</code>的QPS（每秒内查询次数)。之所以QPS如此高，有以下几点：</p> <ul><li>完全基于内存，绝大部分请求是纯粹的内存操作，非常快速。数据存在内存中，类似于HashMap，HashMap的优势就是查找和操作的时间复杂度都是O(1)；</li> <li>数据结构简单，对数据操作也简单，Redis中的数据结构是专门进行设计的；</li> <li>采用单线程，避免了不必要的上下文切换和竞争条件，也不存在多进程或者多线程导致的切换而消耗 CPU，不用去考虑各种锁的问题，不存在加锁释放锁操作，没有因为可能出现死锁而导致的性能消耗；</li> <li>使用多路I/O复用模型，非阻塞IO；</li> <li>使用底层模型不同，它们之间底层实现方式以及与客户端之间通信的应用协议不一样，Redis直接自己构建了VM 机制 ，因为一般的系统调用系统函数的话，会浪费一定的时间去移动和请求；</li></ul></div> <div class="custom-block warning"><p class="custom-block-title">扩展</p> <ul><li>单进程多线程模型：MySQL、Memcached、Oracle（Windows版本）；</li> <li>多进程模型：Oracle（Linux版本）；</li> <li>Nginx有两类进程，一类称为Master进程(相当于管理进程)，另一类称为Worker进程（实际工作进程）。</li></ul></div> <h3 id="多态的实现原理"><a href="#多态的实现原理" class="header-anchor">#</a> 多态的实现原理</h3> <div class="custom-block tip"><p class="custom-block-title">参考答案</p> <p>多态,就是重载和重写.重载发生在一个类中.重写发生在子类,意思就是子类重写父类相同名称的方法。
Java 里对象方法的调用是依靠类信息里的方法表实现的。
总体而言，当调用对象某个方法时，JVM查找该对象类的方法表以确定该方法的直接引用地址，有了地址后才真正调用该方法。</p></div> <div class="custom-block warning"><p class="custom-block-title">扩展阅读</p> <p>我们知道java程序运行时，类的相关信息放在方法区，在这些信息中有个叫方法表的区域，该表包含有该类型所定义的所有方法的信息和指向这些方法实际代码的指针。</p></div> <h2 id="spring事务管理"><a href="#spring事务管理" class="header-anchor">#</a> Spring事务管理</h2> <h3 id="spring事务的传播属性有哪些"><a href="#spring事务的传播属性有哪些" class="header-anchor">#</a> Spring事务的传播属性有哪些</h3> <div class="custom-block tip"><p class="custom-block-title">参考答案</p> <blockquote><p>Spring事务的传播属性源码定义</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code>    <span class="token comment">//Spring源码中事务传播属性的枚举类定义</span>
	<span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">Propagation</span> <span class="token punctuation">{</span>
    <span class="token comment">//Spring事务的默认传播属性。</span>
    <span class="token comment">//支持当前事务，如果当前有事务，那么加入事务，如果当前没有事务则新建一个。</span>
    <span class="token comment">//默认值： 0。    </span>
    <span class="token function">REQUIRED</span><span class="token punctuation">(</span><span class="token class-name">TransactionDefinition</span><span class="token punctuation">.</span>PROPAGATION_REQUIRED<span class="token punctuation">)</span><span class="token punctuation">,</span>    
    <span class="token comment">//如果当前有事务则加入，如果没有则不用事务。</span>
    <span class="token comment">//默认值： 1。    </span>
    <span class="token function">SUPPORTS</span><span class="token punctuation">(</span><span class="token class-name">TransactionDefinition</span><span class="token punctuation">.</span>PROPAGATION_SUPPORTS<span class="token punctuation">)</span>
    <span class="token comment">//强制的，支持当前事务，如果当前没有事务，则抛出异常。（当前必须有事务）。</span>
    <span class="token comment">//默认值： 2。    </span>
    <span class="token function">MANDATORY</span><span class="token punctuation">(</span><span class="token class-name">TransactionDefinition</span><span class="token punctuation">.</span>PROPAGATION_MANDATORY<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">//支持当前事务，如果当前有事务，则挂起当前事务，然后新创建一个事务，</span>
    <span class="token comment">//如果当前没有事务，则自己创建一个事务。</span>
    <span class="token comment">//默认值： 3。</span>
    <span class="token function">REQUIRES_NEW</span><span class="token punctuation">(</span><span class="token class-name">TransactionDefinition</span><span class="token punctuation">.</span>PROPAGATION_REQUIRES_NEW<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">//以非事务方式执行操作，如果当前存在事务就把当前事务挂起，</span>
    <span class="token comment">//执行完后恢复事务（忽略当前事务）。</span>
    <span class="token comment">//默认值： 4。    </span>
    <span class="token function">NOT_SUPPORTED</span><span class="token punctuation">(</span><span class="token class-name">TransactionDefinition</span><span class="token punctuation">.</span>PROPAGATION_NOT_SUPPORTED<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">//以非事务方式执行，如果当前存在事务，则抛出异常。（当前必须不能有事务）。</span>
    <span class="token comment">//默认值： 5。       </span>
    <span class="token function">NEVER</span><span class="token punctuation">(</span><span class="token class-name">TransactionDefinition</span><span class="token punctuation">.</span>PROPAGATION_NEVER<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">//如果当前存在事务，则嵌套在当前事务中。</span>
    <span class="token comment">//如果当前没有事务，则新建一个事务自己执行（和required一样）。</span>
    <span class="token comment">//嵌套的事务使用保存点作为回滚点，当内部事务回滚时不会影响外部事物的提交。</span>
    <span class="token comment">//但是外部回滚会把内部事务一起回滚回去。（这个和新建一个事务的区别）。</span>
    <span class="token comment">//默认值： 6。           </span>
    <span class="token function">NESTED</span><span class="token punctuation">(</span><span class="token class-name">TransactionDefinition</span><span class="token punctuation">.</span>PROPAGATION_NESTED<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token keyword">int</span> value<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">Propagation</span><span class="token punctuation">(</span><span class="token keyword">int</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="spring事务的隔离级别"><a href="#spring事务的隔离级别" class="header-anchor">#</a> Spring事务的隔离级别</h3> <div class="custom-block tip"><p class="custom-block-title">参考答案</p> <blockquote><p>隔离级别的源码定义</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//Spring事务的隔离级别源码类</span>
<span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">Isolation</span> <span class="token punctuation">{</span>
   <span class="token comment">//默认事务隔离级别：-1</span>
   <span class="token function">DEFAULT</span><span class="token punctuation">(</span><span class="token class-name">TransactionDefinition</span><span class="token punctuation">.</span>ISOLATION_DEFAULT<span class="token punctuation">)</span><span class="token punctuation">,</span>
   <span class="token comment">//读未提交： 1</span>
   <span class="token function">READ_UNCOMMITTED</span><span class="token punctuation">(</span><span class="token class-name">TransactionDefinition</span><span class="token punctuation">.</span>ISOLATION_READ_UNCOMMITTED<span class="token punctuation">)</span><span class="token punctuation">,</span>
   <span class="token comment">//读提交： 2</span>
   <span class="token function">READ_COMMITTED</span><span class="token punctuation">(</span><span class="token class-name">TransactionDefinition</span><span class="token punctuation">.</span>ISOLATION_READ_COMMITTED<span class="token punctuation">)</span><span class="token punctuation">,</span>
   <span class="token comment">//可重复读：4 </span>
   <span class="token function">REPEATABLE_READ</span><span class="token punctuation">(</span><span class="token class-name">TransactionDefinition</span><span class="token punctuation">.</span>ISOLATION_REPEATABLE_READ<span class="token punctuation">)</span><span class="token punctuation">,</span>
   <span class="token comment">//串行化：8</span>
   <span class="token function">SERIALIZABLE</span><span class="token punctuation">(</span><span class="token class-name">TransactionDefinition</span><span class="token punctuation">.</span>ISOLATION_SERIALIZABLE<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token keyword">int</span> value<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">Isolation</span><span class="token punctuation">(</span><span class="token keyword">int</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><blockquote><p>隔离级别的影响</p></blockquote> <table><thead><tr><th>名字</th> <th>隔离级别</th> <th>脏读</th> <th>不可重复读</th> <th>幻读</th></tr></thead> <tbody><tr><td><strong>读未提交</strong></td> <td>ISOLATION_READ_UNCOMMITTED</td> <td>会</td> <td>会</td> <td>会</td></tr> <tr><td><strong>读提交</strong></td> <td>ISOLATION_READ_COMMITTED</td> <td>不会</td> <td>会</td> <td>会</td></tr> <tr><td><strong>可重复读</strong></td> <td>ISOLATION_REPEATABLE_READ</td> <td>不会</td> <td>不会</td> <td>会</td></tr> <tr><td><strong>串行化</strong></td> <td>ISOLATION_SERIALIZABLE</td> <td>不会</td> <td>不会</td> <td>不会</td></tr></tbody></table> <blockquote><p>隔离级别的概念</p></blockquote> <ul><li><strong>ISOLATION_DEFAULT(默认级别)</strong> : 使用后端数据库默认的隔离级别。</li> <li><strong>ISOLATION_READ_UNCOMMITTED(读未提交)</strong>: 允许读取尚未提交的更改。可能导致脏读、幻影读或不可重复读。</li> <li><strong>ISOLATION_READ_COMMITTED(读提交)</strong>: 允许从已经提交的并发事务读取。可防止脏读，但幻影读和不可重复读仍可能会发生。</li> <li><strong>ISOLATION_REPEATABLE_READ(可重复读)</strong>: 对相同字段的多次读取的结果是一致的，除非数据被当前事务本身改变。可防止脏读和不可重复读，但幻影读仍可能发生。</li> <li><strong>ISOLATION_SERIALIZABLE(串行化)</strong>: 完全服从ACID的隔离级别，确保不发生脏读、不可重复读和幻影读。这在所有隔离级别中也是最慢的，因为它通常是通过完全锁定当前事务所涉及的数据表来完成的。</li></ul></div> <div class="custom-block warning"><p class="custom-block-title">扩展阅读</p> <ul><li><p><strong>脏读</strong>：一个事务可以读取另一个未提交事务的数据。需要注意的是这里针对的是数据本身，可以理解为针对单笔数据。</p> <p><strong>分析</strong>：事务A开启进行了查询数据，同时事务B开启，修改了其中一笔数据，但并未提交，这时事务A又进行了查询，这时就有两笔不一样的数据，然后事务B并没有结束，事务B进行了事务回滚，这样事务A就读取了事务B修改后未提交的数据。因为这里出现这种根本原因是未对数据进行提交，就进行了读取。</p> <p><strong>解决方案</strong>：设置未读提交即可。</p></li> <li><p><strong>不可重复读</strong>：一个事务进行读取，分别读取到了不同的数据。需要注意的是这里针对的是数据本身，可以理解为针对单笔数据，重点是对数据的修改和删除，所以对行加锁就可以解决。</p> <p><strong>分析</strong>：事务A对数据进行查询，这时事物B开启，对其中一笔数据进行了修改，然后进行了提交（这里进行了提交），然后事务A又对数据进行了查询，发现同一笔不同了，所以事务A读取了两笔不同的数据，两次读取同笔数据有了不同的数据。出现这种根本原因是在事务A进行读操作时，其他事务对数据进行了修改。</p> <p><strong>解决方案</strong>：读提交是不足以解决的，需进行可重复读（Repeatable read）就能解决，加行级锁。</p></li> <li><p><strong>幻读</strong>：一个事务进行读取，分别读取到了不同的数据。需要注意的是这里针对的是数据条数，可以理解为针对多笔数据是个数据集，重点是对数据的新增。</p> <p><strong>分析</strong>：事务A对数据进行查询，这时事物B开启，对其中一笔数据进行了新增，然后进行了提交（这里进行了提交），然后事务A又对数据进行了查询，发现查询所得的结果集是不一样的。幻读针对的是多笔记录。读提交（Read Committed）是不足以解决的，需进行Serializable 序列化就能解决。</p> <p><strong>解决方案</strong>：对表加锁就可以解决。</p></li></ul></div> <h3 id="spring事务管理是如何实现的"><a href="#spring事务管理是如何实现的" class="header-anchor">#</a> Spring事务管理是如何实现的</h3> <div class="custom-block tip"><p class="custom-block-title">参考答案</p> <p>Spring事务管理是基于<code>Spring AOP</code>实现的，底层采用的是动态代理，处理时会拦截到带有<code>@Transactional</code>的注解，对目标类生成代理类，从而进行对目标方法的拦截，执行前开启事务，执行后提交事务。</p></div> <div class="custom-block warning"><p class="custom-block-title">扩展阅读</p> <p>以代理方式声明的事务管理，只有目标方法是<code>public</code>修饰，并且必须在代理类外部调用，如果直接在目标类里面调用(内部类形式)，事务依然不会生效。</p></div> <div class="custom-block danger"><p class="custom-block-title">注意事项</p> <p>Spring团队建议您仅使用注释对具体类（以及具体类的方法）进行<code>@Transactional</code>注释，而不是对接口进行注释。您当然可以将<code>@Transactional</code>注释放置在接口（或接口方法）上，但这仅在您使用基于接口的代理时才可以预期地起作用。Java注释不是从接口继承的事实意味着，如果您使用基于类的代理（proxy-target-class=&quot;true&quot;）或基于编织的方面（mode=&quot;aspectj&quot;），则代理和编织基础结构无法识别事务设置，并且不会包装对象在交易代理中。</p></div> <h3 id="spring事务-transactional有哪些属性"><a href="#spring事务-transactional有哪些属性" class="header-anchor">#</a> Spring事务@Transactional有哪些属性</h3> <div class="custom-block tip"><p class="custom-block-title">参考答案</p> <p>@Transactional默认设置如下：</p> <ul><li><p>传播属性为 <code>PROPAGATION_REQUIRED</code>。</p></li> <li><p>隔离级别为 <code>ISOLATION_DEFAULT</code>。</p></li> <li><p>事务是<code>读写的</code>。</p></li> <li><p>事务超时默认为基础事务系统的默认超时，如果不支持超时，则默认为无。</p></li> <li><p>任何<code>RuntimeException</code>触发器都会回滚，而任何检查<code>Exception</code>都不会回滚。</p></li></ul> <table><thead><tr><th style="text-align:left;">属性</th> <th style="text-align:left;">类型</th> <th style="text-align:left;">描述</th></tr></thead> <tbody><tr><td style="text-align:left;"><code>value</code></td> <td style="text-align:left;"><code>String</code></td> <td style="text-align:left;">可选的限定词，指定要使用的事务管理器。</td></tr> <tr><td style="text-align:left;"><code>propagation</code></td> <td style="text-align:left;"><code>enum</code>： <code>Propagation</code></td> <td style="text-align:left;">可选的传播设置。</td></tr> <tr><td style="text-align:left;"><code>isolation</code></td> <td style="text-align:left;"><code>enum</code>： <code>Isolation</code></td> <td style="text-align:left;">可选的隔离级别。仅适用于<code>REQUIRED</code>或的传播值<code>REQUIRES_NEW</code>。</td></tr> <tr><td style="text-align:left;"><code>timeout</code></td> <td style="text-align:left;"><code>int</code> （以秒为单位）</td> <td style="text-align:left;">可选的事务超时。仅适用于<code>REQUIRED</code>或的传播值<code>REQUIRES_NEW</code>。</td></tr> <tr><td style="text-align:left;"><code>readOnly</code></td> <td style="text-align:left;"><code>boolean</code></td> <td style="text-align:left;">读写与只读事务。仅适用于<code>REQUIRED</code>或的值<code>REQUIRES_NEW</code>。</td></tr> <tr><td style="text-align:left;"><code>rollbackFor</code></td> <td style="text-align:left;"><code>Class</code>对象数组，必须从中派生<code>Throwable.</code></td> <td style="text-align:left;">必须引起回滚的异常类的可选数组。</td></tr> <tr><td style="text-align:left;"><code>rollbackForClassName</code></td> <td style="text-align:left;">类名数组。这些类必须源自<code>Throwable.</code></td> <td style="text-align:left;">必须引起回滚的异常类名称的可选数组。</td></tr> <tr><td style="text-align:left;"><code>noRollbackFor</code></td> <td style="text-align:left;"><code>Class</code>对象数组，必须从中派生<code>Throwable.</code></td> <td style="text-align:left;">不能导致回滚的异常类的可选数组。</td></tr> <tr><td style="text-align:left;"><code>noRollbackForClassName</code></td> <td style="text-align:left;"><code>String</code>类名数组，必须从中派生<code>Throwable.</code></td> <td style="text-align:left;">不能引起回滚的异常类名称的可选数组。</td></tr></tbody></table></div> <h3 id="spring事务核心类有哪些"><a href="#spring事务核心类有哪些" class="header-anchor">#</a> Spring事务核心类有哪些</h3> <div class="custom-block tip"><p class="custom-block-title">参考答案</p> <blockquote><p>核心接口 <span class="badge error" style="vertical-align:middle;" data-v-c13ee5b0>I</span></p></blockquote> <ul><li><strong>PlanformTransactionManager</strong>： 定义了平台统一的获取事务、提交事务、回滚事务的方法，具体由各个厂商来实现。</li> <li><strong>TransactionStatus</strong>：定义了是否是新事务、是否有保存点、事务是否结束等状态值。</li> <li><strong>TransactionDefinition</strong>：定义了事务的传播属性、隔离级别、只读以及超时时间等属性值。</li></ul> <blockquote><p>注解类 <span class="badge error" style="vertical-align:middle;" data-v-c13ee5b0>@</span></p></blockquote> <ul><li><strong>EnableTransactionManagement</strong>：开始事务的注解类。</li></ul> <blockquote><p>核心类 <span class="badge error" style="vertical-align:middle;" data-v-c13ee5b0>C</span></p></blockquote> <ul><li><strong>TransactionAspectSupport</strong>：其<code>invokeWithinTransaction</code>核心方法，调用内部事务处理。</li> <li><strong>TransactionInterceptor</strong>： 事务拦截器，实现了AOP核心类<code>MethodInterceptor</code>，调用其<code>invoke</code>方法，执行调用内部事务处理。</li> <li><strong>AutoProxyRegistrar</strong>： 注册<code>BeanDefinitions</code>，实例化bean。</li></ul> <blockquote><p>配置类 <span class="badge error" style="vertical-align:middle;" data-v-c13ee5b0>C</span></p></blockquote> <ul><li><strong>ProxyTransactionManagementConfiguration</strong>：定义事务增强器、拦截器。</li></ul> <blockquote><p>枚举类 <span class="badge error" style="vertical-align:middle;" data-v-c13ee5b0>E</span></p></blockquote> <ul><li><strong>Propagation</strong>： 传播属性的枚举类。</li> <li><strong>Isolation</strong>：事务隔离级别的枚举类。</li></ul></div> <h3 id="spring事务是否可继承"><a href="#spring事务是否可继承" class="header-anchor">#</a> Spring事务是否可继承</h3> <div class="custom-block tip"><p class="custom-block-title">参考答案</p> <p><code>@Transactional</code>注解的作用可以传播到子类，即如果父类标了子类就不用标了。但倒过来就不行了。
子类标了，并不会传到父类，所以父类方法不会有事务。父类方法需要在子类中重新声明而参与到子类上的注解，这样才会有事务。</p></div> <h3 id="spring事务管理方式有哪两种"><a href="#spring事务管理方式有哪两种" class="header-anchor">#</a> Spring事务管理方式有哪两种</h3> <div class="custom-block tip"><p class="custom-block-title">参考答案</p> <ul><li><p>声明式事务管理：通过类或方法上添加<code>@Transactional</code>注解。</p></li> <li><p>编程式事务管理：通过定义<code>TransactionTemplate</code>对象来调用执行<code>doInTransaction</code>方法。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 编程式事务</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SimpleService</span> <span class="token keyword">implements</span> <span class="token class-name">Service</span> <span class="token punctuation">{</span>
<span class="token comment">// 所有方法共享一个TransactionTemplate实例</span>
<span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">TransactionTemplate</span> transactionTemplate<span class="token punctuation">;</span>
<span class="token comment">// 使用构造函数注入来提供PlatformTransactionManager</span>
<span class="token keyword">public</span> <span class="token class-name">SimpleService</span><span class="token punctuation">(</span><span class="token class-name">PlatformTransactionManager</span> transactionManager<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>transactionTemplate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TransactionTemplate</span><span class="token punctuation">(</span>transactionManager<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 此方法可以不用添加@Transactional注解</span>
<span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">someServiceMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> transactionTemplate<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TransactionCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 此方法中的代码在事务上下文中执行</span>
        <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">doInTransaction</span><span class="token punctuation">(</span><span class="token class-name">TransactionStatus</span> status<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">updateOperation1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token function">resultOfUpdateOperation2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul></div> <h3 id="spring事务回滚什么时候触发"><a href="#spring事务回滚什么时候触发" class="header-anchor">#</a> Spring事务回滚什么时候触发</h3> <div class="custom-block tip"><p class="custom-block-title">参考答案</p> <p>以下通过Spring事务相关源码来分析事务回滚触发条件</p></div> <blockquote><p>Spring事务处理类源码</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>transaction<span class="token punctuation">.</span>interceptor</span><span class="token punctuation">.</span><span class="token class-name">TransactionAspectSupport</span>

<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">completeTransactionAfterThrowing</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Nullable</span> <span class="token class-name">TransactionInfo</span> txInfo<span class="token punctuation">,</span> <span class="token class-name">Throwable</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">// 判断当前是否存在事务</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>txInfo <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> txInfo<span class="token punctuation">.</span><span class="token function">getTransactionStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>logger<span class="token punctuation">.</span><span class="token function">isTraceEnabled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
logger<span class="token punctuation">.</span><span class="token function">trace</span><span class="token punctuation">(</span><span class="token string">&quot;Completing transaction for [&quot;</span> <span class="token operator">+</span>txInfo<span class="token punctuation">.</span><span class="token function">getJoinpointIdentification</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span><span class="token string">&quot;] after exception: &quot;</span> <span class="token operator">+</span> ex<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/**
*  TODO : 判断是否满足回滚条件
*  只有(RuntimeException或者error异常)才执行回滚操作
*  @see org.springframework.transaction.interceptor.DefaultTransactionAttribute#rollbackOn
*/</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>txInfo<span class="token punctuation">.</span>transactionAttribute <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> txInfo<span class="token punctuation">.</span>transactionAttribute<span class="token punctuation">.</span><span class="token function">rollbackOn</span><span class="token punctuation">(</span>ex<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
<span class="token comment">// 处理回滚</span>
txInfo<span class="token punctuation">.</span><span class="token function">getTransactionManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">rollback</span><span class="token punctuation">(</span>txInfo<span class="token punctuation">.</span><span class="token function">getTransactionStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">TransactionSystemException</span> ex2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;Application exception overridden by rollback exception&quot;</span><span class="token punctuation">,</span> ex<span class="token punctuation">)</span><span class="token punctuation">;</span>
ex2<span class="token punctuation">.</span><span class="token function">initApplicationException</span><span class="token punctuation">(</span>ex<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">throw</span> ex2<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">RuntimeException</span> <span class="token operator">|</span> <span class="token class-name">Error</span> ex2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;Application exception overridden by rollback exception&quot;</span><span class="token punctuation">,</span> ex<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">throw</span> ex2<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">else</span> <span class="token punctuation">{</span>
<span class="token comment">// We don't roll back on this exception.</span>
<span class="token comment">// Will still roll back if TransactionStatus.isRollbackOnly() is true.</span>
<span class="token comment">// 如果 TransactionStatus.isRollbackOnly()为真，则仍然回滚。</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
<span class="token comment">// 如果不满足回滚条件出现异常也会继续提交</span>
txInfo<span class="token punctuation">.</span><span class="token function">getTransactionManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span>txInfo<span class="token punctuation">.</span><span class="token function">getTransactionStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">TransactionSystemException</span> ex2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;Application exception overridden by commit exception&quot;</span><span class="token punctuation">,</span> ex<span class="token punctuation">)</span><span class="token punctuation">;</span>
ex2<span class="token punctuation">.</span><span class="token function">initApplicationException</span><span class="token punctuation">(</span>ex<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">throw</span> ex2<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">RuntimeException</span> <span class="token operator">|</span> <span class="token class-name">Error</span> ex2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;Application exception overridden by commit exception&quot;</span><span class="token punctuation">,</span> ex<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">throw</span> ex2<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>回滚条件的判断入口</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>transaction<span class="token punctuation">.</span>interceptor</span><span class="token punctuation">.</span><span class="token class-name">DefaultTransactionAttribute</span>
<span class="token comment">/**
 *  TODO : 回滚达成条件
 *  默认只有运行时异常或者Error级别的异常才返回true，进行回滚
 *  此外如果相对Exception异常进行回滚，可以对注解进行如下设置：
 *  @Transactional( rollbackFor = Exception.class, noRollbackFor = RuntimeException.class)
 *  @see  org.springframework.transaction.annotation#Transactional
 */</span>
<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">rollbackOn</span><span class="token punctuation">(</span><span class="token class-name">Throwable</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>ex <span class="token keyword">instanceof</span> <span class="token class-name">RuntimeException</span> <span class="token operator">||</span> ex <span class="token keyword">instanceof</span> <span class="token class-name">Error</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/**
 *  TODO : 通过编程方式回滚
 *  但此过程具有很大的侵入性，并将您的代码紧密耦合到Spring Framework的事务基础结构。
 *  Spring官方强烈建议尽可能使用声明性方法进行回滚，不用编程式触发。
 */</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">resolvePosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token comment">// some business logic...</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">NoProductInStockException</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 编程式触发回滚</span>
        <span class="token class-name">TransactionAspectSupport</span><span class="token punctuation">.</span><span class="token function">currentTransactionStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setRollbackOnly</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id=""><a href="#" class="header-anchor">#</a></h3> <div class="custom-block tip"><p class="custom-block-title">参考答案</p></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.8595a84a.js" defer></script><script src="/assets/js/2.43ea25e1.js" defer></script><script src="/assets/js/124.83bad0ab.js" defer></script><script src="/assets/js/10.06e5eb14.js" defer></script>
  </body>
</html>
